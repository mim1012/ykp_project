Listen 0.0.0.0:${PORT}

<VirtualHost *:${PORT}>
    ServerName _
    DocumentRoot /var/www/html/public

    <Directory /var/www/html/public>
        Options FollowSymLinks
        AllowOverride All
        Require all granted

        # health.php는 어떤 경우에도 바로 통과
        <Files "health.php">
            Require all granted
        </Files>
    </Directory>

    # PHP handler
    <FilesMatch \.php$>
        SetHandler application/x-httpd-php
    </FilesMatch>

    # Logging to stdout/stderr for Railway
    ErrorLog  /proc/self/fd/2
    CustomLog /proc/self/fd/1 combined
</VirtualHost>