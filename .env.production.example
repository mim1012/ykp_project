# ====================================================================
# YKP ERP Dashboard - Railway Production Environment Template
# ====================================================================
# ⚠️ DO NOT commit actual credentials to Git!
# This template is for reference when configuring Railway environment variables.
# Set these variables in Railway Dashboard > Your Service > Variables
# ====================================================================

# Application
APP_NAME="YKP ERP"
APP_ENV=production
APP_KEY=   # Generate with: php artisan key:generate (set in Railway)
APP_DEBUG=false
APP_TIMEZONE=Asia/Seoul
APP_URL=${RAILWAY_PUBLIC_DOMAIN}   # Railway auto-fills this
APP_LOCALE=ko
APP_FALLBACK_LOCALE=ko
APP_FAKER_LOCALE=ko_KR

APP_MAINTENANCE_DRIVER=file
APP_MAINTENANCE_STORE=database

BCRYPT_ROUNDS=12

# Logging (use stderr for Railway)
LOG_CHANNEL=stderr
LOG_LEVEL=error

# Production Database (Supabase PostgreSQL)
# ⚠️ SECURITY: Set these in Railway Secrets, NOT in code
DB_CONNECTION=pgsql
DB_HOST=aws-1-ap-southeast-1.pooler.supabase.com
DB_PORT=5432
DB_DATABASE=postgres
DB_USERNAME=postgres.qwafwqxdcfpqqwpmphkm
DB_PASSWORD=   # ⚠️ SET IN RAILWAY SECRETS!
DB_SSLMODE=require   # CRITICAL: SSL required for Supabase

# Session Configuration (using production database)
SESSION_DRIVER=database
SESSION_CONNECTION=pgsql   # Use default (production) connection
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

# Broadcasting
BROADCAST_CONNECTION=log

# File Storage
FILESYSTEM_DISK=local

# Queue Configuration (using production database)
QUEUE_CONNECTION=database
DB_QUEUE_CONNECTION=pgsql   # Use default (production) connection

# Cache Configuration (using production database)
CACHE_STORE=database
CACHE_DATABASE_CONNECTION=pgsql   # Use default (production) connection
CACHE_DATABASE_TABLE=cache
CACHE_PREFIX=

# Mail Configuration (production)
MAIL_MAILER=log   # Change to 'smtp' if using real email
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@ykp.com"
MAIL_FROM_NAME="${APP_NAME}"

# AWS (optional, for S3 storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=
AWS_USE_PATH_STYLE_ENDPOINT=false

# Vite (will be built during deployment)
VITE_APP_NAME="${APP_NAME}"

# Feature Flags (Production)
FEATURE_EXCEL_INPUT=true
FEATURE_ADVANCED_REPORTS=true
FEATURE_UI_V2=false
FEATURE_SUPABASE_ENHANCED=true

# Sentry (Optional - Error Tracking)
# SENTRY_LARAVEL_DSN=https://your-sentry-dsn@sentry.io/project-id

# ====================================================================
# Railway Production Setup Instructions:
# ====================================================================
#
# 1. Create a new Railway project and service
# 2. Go to Railway Dashboard > Your Service > Variables
# 3. Add each variable above (copy from this template)
# 4. IMPORTANT: Set DB_PASSWORD in Railway Secrets (secure storage)
# 5. Generate APP_KEY:
#    - Run locally: php artisan key:generate --show
#    - Copy the output and set as APP_KEY in Railway
# 6. Deploy:
#    - Push to main branch (for production)
#    - Or use Railway CLI: railway up
# 7. Run migrations:
#    - Railway CLI: railway run php artisan migrate --force
#    - Or set in Railway build command
#
# ====================================================================
# Supabase Database Credentials:
# ====================================================================
#
# Get these from Supabase Dashboard:
# https://supabase.com/dashboard > Your Project > Settings > Database
#
# Connection Pooler (recommended for Railway):
# - Host: aws-1-ap-southeast-1.pooler.supabase.com
# - Port: 5432
# - Database: postgres
# - User: postgres.qwafwqxdcfpqqwpmphkm
# - Password: [Get from Supabase Dashboard]
# - SSL Mode: require (CRITICAL!)
#
# Direct Connection (backup):
# - Host: db.qwafwqxdcfpqqwpmphkm.supabase.co
# - Port: 5432
# - Connection pooling is recommended for serverless environments
#
# ====================================================================
# Railway Environment-Specific Variables:
# ====================================================================
#
# Railway provides these automatically:
# - RAILWAY_PUBLIC_DOMAIN: Your app's public URL
# - RAILWAY_ENVIRONMENT: production/staging/development
# - RAILWAY_PROJECT_ID: Your project ID
# - RAILWAY_SERVICE_ID: Your service ID
#
# ====================================================================
# Security Checklist:
# ====================================================================
#
# [ ] DB_PASSWORD set in Railway Secrets (not visible in logs)
# [ ] APP_KEY generated and unique per environment
# [ ] APP_DEBUG=false in production
# [ ] DB_SSLMODE=require for Supabase
# [ ] LOG_LEVEL=error (not debug)
# [ ] .env file is in .gitignore
# [ ] Supabase backup created before deployment
#
# ====================================================================
