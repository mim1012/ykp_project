# Laragon 가상 호스트 설정
# 파일 위치: C:\laragon\etc\apache2\sites-enabled\auto.ykp-dashboard.test.conf

<VirtualHost *:80>
    DocumentRoot "D:/Project/ykp-dashboard/public"
    ServerName ykp-dashboard.test
    ServerAlias *.ykp-dashboard.test
    
    <Directory "D:/Project/ykp-dashboard/public">
        AllowOverride All
        Require all granted
        
        # Laravel 라우팅 지원
        Options Indexes FollowSymLinks
        DirectoryIndex index.php
        
        # Pretty URLs
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule ^(.*)$ index.php [QSA,L]
    </Directory>
    
    # 성능 최적화
    <IfModule mod_deflate.c>
        AddOutputFilterByType DEFLATE text/plain
        AddOutputFilterByType DEFLATE text/html
        AddOutputFilterByType DEFLATE text/xml
        AddOutputFilterByType DEFLATE text/css
        AddOutputFilterByType DEFLATE application/xml
        AddOutputFilterByType DEFLATE application/xhtml+xml
        AddOutputFilterByType DEFLATE application/rss+xml
        AddOutputFilterByType DEFLATE application/javascript
        AddOutputFilterByType DEFLATE application/x-javascript
    </IfModule>
    
    # 캐시 설정
    <IfModule mod_expires.c>
        ExpiresActive On
        ExpiresByType text/css "access plus 1 month"
        ExpiresByType application/javascript "access plus 1 month"
        ExpiresByType image/png "access plus 1 month"
        ExpiresByType image/jpg "access plus 1 month"
        ExpiresByType image/jpeg "access plus 1 month"
    </IfModule>
    
    # 로그 설정
    ErrorLog "C:/laragon/etc/apache2/logs/ykp-dashboard_error.log"
    CustomLog "C:/laragon/etc/apache2/logs/ykp-dashboard_access.log" combined
</VirtualHost>