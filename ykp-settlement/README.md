# YKP 정산 시스템

React + TypeScript + Vite + AG Grid를 사용한 엑셀 스타일 정산 데이터 입력 시스템

## 🚀 시작하기

### 설치
```bash
npm install
```

### 개발 서버 실행
```bash
npm run dev
```

### 빌드
```bash
npm run build
```

## 📋 주요 기능

### 1. 컬럼 구조
- **입력 필드** (노란색 배경)
  - 판매자, 대리점, 통신사, 개통방식, 모델명, 개통일, 고객명
  - 액면/셋팅가, 구두1, 구두2, 그레이드, 부가추가
  - 현금받음(+), 페이백(-), 메모

- **정책 필드** (프로파일 자동 채움)
  - 유심비(+), 신규·번이할인(-), 서류상현금개통, 세율

- **계산 필드** (회색 배경, 읽기 전용)
  - 리베총계, 정산금, 부가세, 세전마진, 세후마진

### 2. 지점/대리점 프로파일
- 행 추가 시 선택된 프로파일의 기본값 자동 입력
- 프로파일별 정책 값 설정 가능

### 3. 자동 검증 및 표준화
- **통신사**: sk/SK → SKT, kt → KT, lg/lgu → LGU+ 자동 변환
- **개통방식**: 신규/MNP/기변만 허용 (드롭다운)
- **날짜**: YYYY-MM-DD 형식 검증
- **금액**: 자동 부호 적용 (현금받음+, 페이백-, 신규·번이할인-)

## ⌨️ 단축키

### 이동
- `방향키` - 셀 이동
- `Tab` / `Shift+Tab` - 다음/이전 셀
- `Enter` / `Shift+Enter` - 아래/위 셀

### 편집
- `F2` - 셀 편집 모드
- `Delete` - 선택 영역 삭제
- `Ctrl+Z` - 실행취소
- `Ctrl+Y` - 다시실행

### 복사
- `Ctrl+C` / `Ctrl+V` - 복사/붙여넣기
- `Ctrl+D` - 위 셀 값 복사
- `Ctrl+R` - 왼쪽 셀 값 복사

### 선택
- `Ctrl+Space` - 열 전체 선택
- `Shift+Space` - 행 전체 선택
- `Ctrl+A` - 전체 선택

### 기타
- `F1` - 단축키 도움말
- `Escape` - 선택 취소
- `Alt+=` - 자동 합계

## 💡 특징

### 엑셀 호환
- 엑셀에서 복사한 데이터 직접 붙여넣기 가능
- 엑셀과 동일한 단축키 지원
- 천 단위 콤마, 원화(₩) 표시

### 실시간 계산
- 입력 즉시 자동 계산
- 리베총계 = 액면가 + 구두1 + 구두2 + 그레이드 + 부가추가
- 정산금 = 리베총계 - 서류상현금 + 유심비 + 신규/MNP할인
- 세금 = 정산금 × 세율(13.3%)
- 마진 = 정산금 - 세금 + 현금받음 + 페이백

### 검증
- 필수 항목 검증
- 잘못된 입력 시 빨간색 테두리 표시
- 저장 전 전체 검증

## 🔧 기술 스택
- **React 18** + **TypeScript**
- **Vite** - 빌드 도구
- **AG Grid Community** - 데이터 그리드
- **Zustand** - 상태 관리
- **Tailwind CSS** - 스타일링
- **date-fns** - 날짜 처리

## 📁 프로젝트 구조
```
src/
├── components/       # React 컴포넌트
│   ├── Header.tsx   # 헤더 및 KPI
│   ├── SettlementGrid.tsx  # AG Grid 메인 그리드
│   ├── StatusBar.tsx       # 하단 상태바
│   └── ShortcutModal.tsx   # 단축키 도움말
├── store/           # Zustand 스토어
│   └── useSettlementStore.ts
├── utils/           # 유틸리티 함수
│   ├── calculations.ts  # 정산 계산 로직
│   ├── formatters.ts    # 숫자/날짜 포맷
│   └── validation.ts    # 데이터 검증
├── types/           # TypeScript 타입 정의
└── App.tsx          # 메인 앱 컴포넌트
```

## 📝 라이선스
Private